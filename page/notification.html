<!DOCTYPE html>
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>notification</title>
		<!-- 引入jQuery库 -->
		<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
		<!-- 引入Font Awesome图标库 -->
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">
		<link rel="stylesheet" href="../css/public.css" media="all">
		<script src="../lib/layui-v2.6.3/layui.js" charset="utf-8"></script>
		<style>
			.layuimini-notice {
			    padding: 12px 16px;
			    clear: both;
			    font-size: 12px !important;
			    cursor: pointer;
			    position: relative;
			    transition: all 0.2s ease-in-out;
			    border-bottom: 1px solid #f5f5f5;
			}
			.layuimini-notice:last-child {
			    border-bottom: none;
			}
			.layuimini-notice:hover {
			    background-color: #f6f8fa;
			    padding-left: 20px;
			}
			.layuimini-notice-title {
			    line-height: 22px;
			    font-size: 14px;
			    font-weight: 500;
			    padding-right: 80px !important;
			    text-overflow: ellipsis !important;
			    overflow: hidden !important;
			    white-space: nowrap !important;
			    display: flex;
			    align-items: center;
			}
			.layuimini-notice-title::before {
			    content: '';
			    display: inline-block;
			    width: 6px;
			    height: 6px;
			    border-radius: 50%;
			    background-color: #009688;
			    margin-right: 8px;
			    margin-top: -2px;
			}
			.layuimini-notice.new .layuimini-notice-title::before {
			    background-color: #FF5722;
			}
			.layuimini-notice-extra {
			    position: absolute;
			    top: 50%;
			    margin-top: -8px;
			    right: 50px;
			    display: inline-block;
			    height: 16px;
			    color: #999;
			    font-size: 12px;
			}
			/* 仅保留图标按钮 */
			.notice-actions {
			    position: absolute;
			    top: 50%;
			    right: 16px;
			    margin-top: -8px;
			    display: none;
			}
			.layuimini-notice:hover .notice-actions {
			    display: inline-block;
			}
			.notice-btn {
			    border: none;
			    background: transparent;
			    color: #666;
			    cursor: pointer;
			    font-size: 14px;
			    width: 24px;
			    height: 24px;
			    padding: 0;
			    margin-left: 8px;
			    transition: color 0.2s;
			}
			.notice-btn.edit:hover {
			    color: #009688;
			}
			.notice-btn.delete:hover {
			    color: #FF5722;
			}
			/* 公告内容样式 */
			.layuimini-notice-content {
			    padding: 10px 16px 10px 24px;
			    font-size: 13px;
			    color: #666;
			    line-height: 1.6;
			    background-color: #fafafa;
			    border-left: 2px solid #009688;
			    margin-top: 8px;
			    display: none;
			    animation: fadeIn 0.3s ease;
			}
			/* 图标切换样式 */
			.notice-toggle {
			    transition: transform 0.3s ease;
			    margin-right: 8px;
			}
			.notice-toggle.open {
			    transform: rotate(180deg);
			}
			/* 卡片样式优化 */
			.layui-card {
			    margin-bottom: 15px;
			    border-radius: 2px;
			    box-shadow: 0 1px 2px 0 rgba(0,0,0,0.05);
			    border: 1px solid #f2f2f2;
			}
			.layui-card-header {
			    padding: 10px 15px;
			    border-bottom: 1px solid #f2f2f2;
			    background-color: #fafafa;
			    color: #333;
			    border-radius: 2px 2px 0 0;
			}
			.layui-card-body {
			    padding: 15px;
			}
			/* 添加公告按钮 */
			.add-notice-btn {
			    margin-top: 15px;
			    padding: 6px 12px;
			    background-color: #009688;
			    color: #fff;
			    border: none;
			    border-radius: 2px;
			    cursor: pointer;
			    font-size: 13px;
			    transition: background-color 0.2s;
			    display: inline-flex;
			    align-items: center;
			}
			.add-notice-btn i {
			    margin-right: 5px;
			}
			/* 动画 */
			@keyframes fadeIn {
			    from { opacity: 0; }
			    to { opacity: 1; }
			}
		</style>
	</head>
	<body>
		<div class="notice-column">
		    <!-- 公告区域 -->
		    <div class="layui-card notice-card">
		        <div class="layui-card-header">
		            <i class="fa fa-bullhorn icon icon-tip"></i>&nbsp;通知
		            <span style="float: right; color: #009688; font-size: 12px;">
		                <i class="fa fa-circle" style="font-size: 8px;"></i> 点击标题可展开详情
		            </span>
		        </div>
		        <div class="layui-card-body layui-text notice-list">
		            <!-- 带"新"标识的公告 -->
		            <div class="layuimini-notice new" data-id="1">
		                <i class="fa fa-chevron-down notice-toggle"></i>
		                <div class="layuimini-notice-title">修改选项卡样式</div>
		                <div class="layuimini-notice-extra">2019-07-11 23:06</div>
		                <div class="notice-actions">
		                    <a href="../page/notification/edit.html" class="notice-btn edit" title="编辑"><i class="fa fa-pencil"></i></a>
		                    <button class="notice-btn delete" data-id="1" title="删除"><i class="fa fa-trash"></i></button>
		                </div>
		                <div class="layuimini-notice-content">
		                    界面足够简洁清爽。<br>
		                    一个接口几行代码而已直接初始化整个框架，无需复杂操作。<br>
		                    支持多tab，可以打开多窗口。<br>
		                    支持无限级菜单和对font-awesome图标库的完美支持。<br>
		                    失效以及报错菜单无法直接打开，并给出弹出层提示完美的线上用户体验。
		                </div>
		            </div>
		            
		            <div class="layuimini-notice" data-id="2">
		                <i class="fa fa-chevron-down notice-toggle"></i>
		                <div class="layuimini-notice-title">新增系统404模板 书是阶梯</div>
		                <div class="layuimini-notice-extra">2019-07-11 12:57</div>
		                <div class="notice-actions">
		                    <a href="../page/notification/edit.html" class="notice-btn edit" title="编辑"><i class="fa fa-pencil"></i></a>
		                    <button class="notice-btn delete" data-id="2" title="删除"><i class="fa fa-trash"></i></button>
		                </div>
		                <div class="layuimini-notice-content">
		                    界面足够简洁清爽。<br>
		                    一个接口几行代码而已直接初始化整个框架，无需复杂操作。<br>
		                    支持多tab，可以打开多窗口。<br>
		                    支持无限级菜单和对font-awesome图标库的完美支持。
		                </div>
		            </div>
		            
		            <div class="layuimini-notice" data-id="3">
		                <i class="fa fa-chevron-down notice-toggle"></i>
		                <div class="layuimini-notice-title">新增treetable插件和菜单管理样式</div>
		                <div class="layuimini-notice-extra">2019-07-05 14:28</div>
		                <div class="notice-actions">
		                    <a href="../page/notification/edit.html" class="notice-btn edit" title="编辑"><i class="fa fa-pencil"></i></a>
		                    <button class="notice-btn delete" data-id="3" title="删除"><i class="fa fa-trash"></i></button>
		                </div>
		                <div class="layuimini-notice-content">
		                    界面足够简洁清爽。<br>
		                    一个接口几行代码而已直接初始化整个框架，无需复杂操作。<br>
		                    支持多tab，可以打开多窗口。
		                </div>
		            </div>
		            
		            <div class="layuimini-notice" data-id="4">
		                <i class="fa fa-chevron-down notice-toggle"></i>
		                <div class="layuimini-notice-title">修改logo缩放问题</div>
		                <div class="layuimini-notice-extra">2019-07-04 11:02</div>
		                <div class="notice-actions">
		                    <a href="../page/notification/edit.html" class="notice-btn edit" title="编辑"><i class="fa fa-pencil"></i></a>
		                    <button class="notice-btn delete" data-id="4" title="删除"><i class="fa fa-trash"></i></button>
		                </div>
		                <div class="layuimini-notice-content">
		                    界面足够简洁清爽。<br>
		                    一个接口几行代码而已直接初始化整个框架，无需复杂操作。
		                </div>
		            </div>
		            
		            <div class="layuimini-notice" data-id="5">
		                <i class="fa fa-chevron-down notice-toggle"></i>
		                <div class="layuimini-notice-title">修复左侧菜单缩放tab无法移动</div>
		                <div class="layuimini-notice-extra">2019-06-17 11:55</div>
		                <div class="notice-actions">
		                    <a href="../page/notification/edit.html" class="notice-btn edit" title="编辑"><i class="fa fa-pencil"></i></a>
		                    <button class="notice-btn delete" data-id="5" title="删除"><i class="fa fa-trash"></i></button>
		                </div>
		                <div class="layuimini-notice-content">
		                    界面足够简洁清爽。<br>
		                    一个接口几行代码而已直接初始化整个框架，无需复杂操作。<br>
		                    支持多tab，可以打开多窗口。
		                </div>
		            </div>
		            
		            <!-- 添加公告按钮 -->
		            <a href="../page/notification/add.html" class="add-notice-btn"><i class="fa fa-plus"></i> 添加</a>
		        </div>
		    </div>
		</div>

	</body>
	<script>
		$(function() {
			// 公告展开/折叠功能
			$('.layuimini-notice').on('click', function(e) {
			    // 点击操作按钮时，不触发展开/折叠
			    if ($(e.target).closest('.notice-actions').length > 0) {
			        return;
			    }
			    
			    var $this = $(this);
			    var $content = $this.find('.layuimini-notice-content');
			    var $toggle = $this.find('.notice-toggle');
			    
			    // 切换内容显示状态
			    if ($content.is(':visible')) {
			        $content.slideUp(300);
			        $toggle.removeClass('open');
			    } else {
			        // 关闭其他已展开的公告
			        $('.layuimini-notice-content:visible').slideUp(300);
			        $('.notice-toggle').removeClass('open');
			        
			        // 展开当前公告
			        $content.slideDown(300);
			        $toggle.addClass('open');
			    }
			});
			
			// 删除公告功能
			$('.notice-btn.delete').on('click', function() {
			    var noticeId = $(this).data('id');
			    var $notice = $(`.layuimini-notice[data-id="${noticeId}"]`);
			    
			    // 确认删除
			    if (confirm('确定要删除这条公告吗？')) {
			        $notice.slideUp(300, function() {
			            $notice.remove();
			            resetNewNotice();
			        });
			    }
			});
			
			// 工具函数：重置"新"标识
			function resetNewNotice() {
			    $('.layuimini-notice').removeClass('new');
			    $('.layuimini-notice:first').addClass('new');
			}
		});
	</script>
</html>
    
    